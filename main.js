(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){n(e,t),t.set(e,r)}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,a(e,t,"get"))}function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var l=new WeakMap,c=new WeakMap,u=new WeakSet,s=function(){function a(e){var r,o=e.url,s=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n(this,r=u),r.add(this),t(this,l,{writable:!0,value:void 0}),t(this,c,{writable:!0,value:void 0}),i(this,l,o),i(this,c,s)}var s,h;return s=a,(h=[{key:"getCards",value:function(){return fetch("".concat(o(this,l),"/cards"),{headers:o(this,c)}).then(r(this,u,f))}},{key:"getUserInfo",value:function(){return fetch("".concat(o(this,l),"/users/me"),{headers:o(this,c)}).then(r(this,u,f))}},{key:"editProfile",value:function(e,t){return fetch("".concat(o(this,l),"/users/me"),{method:"PATCH",headers:o(this,c),body:JSON.stringify({name:e,about:t})}).then(r(this,u,f))}},{key:"changeAvatar",value:function(e){return fetch("".concat(o(this,l),"/users/me/avatar"),{method:"PATCH",headers:o(this,c),body:JSON.stringify({avatar:e})}).then(r(this,u,f))}},{key:"addNewCard",value:function(e,t){return fetch("".concat(o(this,l),"/cards"),{method:"POST",headers:o(this,c),body:JSON.stringify({name:e,link:t})}).then(r(this,u,f))}},{key:"addLike",value:function(e){return fetch("".concat(o(this,l),"/cards/").concat(e._id,"/likes"),{method:"PUT",headers:o(this,c)}).then(r(this,u,f))}},{key:"deleteLike",value:function(e){return fetch("".concat(o(this,l),"/cards/").concat(e._id,"/likes"),{method:"DELETE",headers:o(this,c)}).then(r(this,u,f))}},{key:"deleteCard",value:function(e){return fetch("".concat(o(this,l),"/cards/").concat(e),{method:"DELETE",headers:o(this,c)}).then(r(this,u,f))}}])&&e(s.prototype,h),Object.defineProperty(s,"prototype",{writable:!1}),a}();function f(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(res.status))}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){v(e,t),t.add(e)}function d(e,t,n){v(e,t),t.set(e,n)}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function w(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,m(e,t,"get"))}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,m(e,t,"set"),n),n}function m(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var k=new WeakMap,g=new WeakMap,_=new WeakMap,S=new WeakMap,E=new WeakMap,O=new WeakMap,j=new WeakMap,C=new WeakMap,W=new WeakMap,T=new WeakMap,P=new WeakMap,L=new WeakMap,M=new WeakMap,q=new WeakMap,R=new WeakMap,x=new WeakMap,D=new WeakMap,I=new WeakSet,A=new WeakSet,B=new WeakSet,z=new WeakSet,U=new WeakSet,V=new WeakSet,N=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleDeleteCard,l=o.handleDeleteLike,c=o.handleAddLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,V),p(this,U),p(this,z),p(this,B),p(this,A),p(this,I),d(this,k,{writable:!0,value:void 0}),d(this,g,{writable:!0,value:void 0}),d(this,_,{writable:!0,value:void 0}),d(this,S,{writable:!0,value:void 0}),d(this,E,{writable:!0,value:void 0}),d(this,O,{writable:!0,value:void 0}),d(this,j,{writable:!0,value:void 0}),d(this,C,{writable:!0,value:void 0}),d(this,W,{writable:!0,value:void 0}),d(this,T,{writable:!0,value:void 0}),d(this,P,{writable:!0,value:void 0}),d(this,L,{writable:!0,value:void 0}),d(this,M,{writable:!0,value:void 0}),d(this,q,{writable:!0,value:void 0}),d(this,R,{writable:!0,value:void 0}),d(this,x,{writable:!0,value:void 0}),d(this,D,{writable:!0,value:void 0}),b(this,k,t.name),b(this,g,t.link),b(this,q,t.owner),b(this,R,t._id),b(this,D,t.likes),b(this,M,r),b(this,_,n),b(this,E,i),b(this,O,a),b(this,j,l),b(this,C,c)}var t,n;return t=e,(n=[{key:"addLike",value:function(){w(this,L).classList.add("place__button-like_active")}},{key:"deleteLike",value:function(){w(this,L).classList.remove("place__button-like_active")}},{key:"setCounter",value:function(e){w(this,x).textContent=e.likes.length}},{key:"deleteCard",value:function(){w(this,S).remove(),b(this,S,null)}},{key:"generateCard",value:function(){return b(this,S,y(this,I,F).call(this)),b(this,W,w(this,S).querySelector(".place__title")),b(this,T,w(this,S).querySelector(".place__image")),b(this,L,w(this,S).querySelector(".place__button-like")),b(this,P,w(this,S).querySelector(".place__button-delete")),b(this,x,w(this,S).querySelector(".place__counter")),w(this,T).src=w(this,g),w(this,W).textContent=w(this,k),w(this,T).alt="Фотография ".concat(w(this,k)),w(this,x).textContent=w(this,D).length,y(this,V,K).call(this),y(this,A,J).call(this),y(this,B,H).call(this,w(this,D)),w(this,S)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(){return document.querySelector(w(this,_)).content.querySelector(".item").cloneNode(!0)}function J(){w(this,M)!==w(this,q)._id&&w(this,P).remove()}function H(){var e=this;w(this,D).forEach((function(t){t._id===w(e,M)?e.addLike():e.deleteLike()}))}function $(){w(this,E).call(this,{name:w(this,k),link:w(this,g)})}function G(){w(this,L).classList.contains("place__button-like_active")?w(this,j).call(this):w(this,C).call(this)}function K(){var e=this;w(this,P).addEventListener("click",(function(){w(e,O).call(e,w(e,R))})),w(this,L).addEventListener("click",(function(){y(e,U,G).call(e)})),w(this,T).addEventListener("click",(function(){y(e,z,$).call(e)}))}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){Z(e,t),t.add(e)}function Y(e,t,n){Z(e,t),t.set(e,n)}function Z(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ee(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function te(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,re(e,t,"get"))}function ne(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,re(e,t,"set"),n),n}function re(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var oe=new WeakMap,ie=new WeakMap,ae=new WeakMap,le=new WeakMap,ce=new WeakSet,ue=new WeakSet,se=new WeakSet,fe=new WeakSet,he=new WeakSet,pe=new WeakSet,de=new WeakSet,ve=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,de),X(this,pe),X(this,he),X(this,fe),X(this,se),X(this,ue),X(this,ce),Y(this,oe,{writable:!0,value:void 0}),Y(this,ie,{writable:!0,value:void 0}),Y(this,ae,{writable:!0,value:void 0}),Y(this,le,{writable:!0,value:void 0}),ne(this,oe,t),ne(this,ie,n),ne(this,ae,Array.from(te(this,ie).querySelectorAll(te(this,oe).inputSelector))),ne(this,le,te(this,ie).querySelector(te(this,oe).submitButtonSelector))}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){var e=this;ee(this,de,_e).call(this),te(this,ae).forEach((function(t){t.addEventListener("input",(function(){ee(e,se,be).call(e,t),ee(e,de,_e).call(e)}))}))}},{key:"resetValidation",value:function(){var e=this;te(this,ae).forEach((function(t){ee(e,ue,we).call(e,t)})),ee(this,de,_e).call(this)}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ye(e,t){var n=te(this,ie).querySelector(".".concat(e.id,"-error"));e.classList.add(te(this,oe).inputErrorClass),n.classList.add(te(this,oe).errorClass),n.textContent=t}function we(e){var t=te(this,ie).querySelector(".".concat(e.id,"-error"));e.classList.remove(te(this,oe).inputErrorClass),t.classList.remove(te(this,oe).errorClass),t.textContent=""}function be(e){e.validity.valid?ee(this,ue,we).call(this,e):ee(this,ce,ye).call(this,e,e.validationMessage)}function me(){return te(this,ae).some((function(e){return!e.validity.valid}))}function ke(){te(this,le).classList.add(te(this,oe).inactiveButtonClass),te(this,le).disabled=!0}function ge(){te(this,le).classList.remove(te(this,oe).inactiveButtonClass),te(this,le).disabled=!1}function _e(){ee(this,fe,me).call(this)?ee(this,he,ke).call(this):ee(this,pe,ge).call(this)}var Se=document.querySelector(".form_edit"),Ee=document.querySelector(".form_added"),Oe=document.querySelector(".form_change-avatar"),je=document.querySelector(".profile__button_type_edit"),Ce=document.querySelector(".profile__button_type_add"),We=document.querySelector(".profile__cursor"),Te=document.querySelector(".form__input_el_name"),Pe=document.querySelector(".form__input_el_job"),Le=(document.querySelector(".form__input_el_title"),document.querySelector(".form__input_el_photo"),{formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button-submit",inactiveButtonClass:"form__button-submit_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"});function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Re(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,De(e,t,"get"))}function xe(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,De(e,t,"set"),n),n}function De(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ie=new WeakMap,Ae=new WeakMap,Be=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qe(this,Ie,{writable:!0,value:void 0}),qe(this,Ae,{writable:!0,value:void 0}),xe(this,Ae,r),xe(this,Ie,document.querySelector(n))}var t,n;return t=e,(n=[{key:"addItem",value:function(e){Re(this,Ie).prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){Re(t,Ae).call(t,e)}))}}])&&Me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Ve(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Fe(e,t,"get"))}function Ne(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Fe(e,t,"set"),n),n}function Fe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Je=new WeakMap,He=new WeakMap,$e=new WeakMap,Ge=new WeakMap,Ke=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ue(this,Je,{writable:!0,value:void 0}),Ue(this,He,{writable:!0,value:void 0}),Ue(this,$e,{writable:!0,value:void 0}),Ue(this,Ge,{writable:!0,value:void 0}),Ne(this,Je,document.querySelector(n)),Ne(this,He,document.querySelector(r)),Ne(this,Ge,document.querySelector(o))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return Ne(this,$e,{name:Ve(this,Je).textContent,job:Ve(this,He).textContent}),Ve(this,$e)}},{key:"setUserInfo",value:function(e){Ve(this,Je).textContent=e.name,Ve(this,He).textContent=e.about,Ve(this,Ge).src=e.avatar}}])&&ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Ye(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ze(e,t,"get"))}function Ze(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xe(this,et,{writable:!0,value:void 0}),Xe(this,tt,{writable:!0,value:function(e){"Escape"===e.key&&i.close()}}),Xe(this,nt,{writable:!0,value:function(e){e.target===e.currentTarget&&i.close()}}),this._popup=document.querySelector(t),n=this,r=et,o=this._popup.querySelector(".popup__close"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(n,Ze(n,r,"set"),o)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",Ye(this,tt))}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",Ye(this,tt))}},{key:"setEventListeners",value:function(){var e=this;Ye(this,et).addEventListener("click",(function(){e.close()})),this._popup.addEventListener("click",Ye(this,nt))}}])&&Qe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(){return at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},at.apply(this,arguments)}function lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ft(e)););return e}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function ut(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function ht(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function pt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,vt(e,t,"get"))}function dt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,vt(e,t,"set"),n),n}function vt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var yt=new WeakMap,wt=new WeakMap,bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(r);if(o){var n=ft(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ut(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ht(st(t=i.call(this,e)),yt,{writable:!0,value:void 0}),ht(st(t),wt,{writable:!0,value:void 0}),dt(st(t),yt,t._popup.querySelector(".popup__subtitle")),dt(st(t),wt,t._popup.querySelector(".popup__image")),t}return t=a,(n=[{key:"open",value:function(e){pt(this,yt).textContent=e.name,pt(this,wt).src=e.link,pt(this,wt).alt=e.name,at(ft(a.prototype),"open",this).call(this)}}])&&it(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(rt);function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(){return gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_t(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},gt.apply(this,arguments)}function _t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function Et(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ot(e)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Ct(e,t,n){Wt(e,t),t.set(e,n)}function Wt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Lt(e,t,"get"))}function Pt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Lt(e,t,"set"),n),n}function Lt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Mt=new WeakMap,qt=new WeakMap,Rt=new WeakMap,xt=new WeakMap,Dt=new WeakMap,It=new WeakMap,At=new WeakSet,Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jt(r);if(o){var n=jt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Et(this,e)});function a(e,t){var n,r,o,l=t.handleSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Wt(r=Ot(n=i.call(this,e)),o=At),o.add(r),Ct(Ot(n),Mt,{writable:!0,value:void 0}),Ct(Ot(n),qt,{writable:!0,value:void 0}),Ct(Ot(n),Rt,{writable:!0,value:void 0}),Ct(Ot(n),xt,{writable:!0,value:void 0}),Ct(Ot(n),Dt,{writable:!0,value:void 0}),Ct(Ot(n),It,{writable:!0,value:void 0}),Pt(Ot(n),Mt,l),Pt(Ot(n),qt,n._popup.querySelector(".form")),Pt(Ot(n),Dt,Tt(Ot(n),qt).querySelector(".form__button-submit")),Pt(Ot(n),It,Tt(Ot(n),Dt).textContent),Pt(Ot(n),Rt,Tt(Ot(n),qt).querySelectorAll(".form__input")),n}return t=a,n=[{key:"loading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Сохранение...";Tt(this,Dt).textContent=e?t:Tt(this,It)}},{key:"setEventListeners",value:function(){var e=this;gt(jt(a.prototype),"setEventListeners",this).call(this),Tt(this,qt).addEventListener("submit",(function(t){t.preventDefault(),Tt(e,Mt).call(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(e,At,zt).call(e))}))}},{key:"close",value:function(){gt(jt(a.prototype),"close",this).call(this),Tt(this,qt).reset()}}],n&&kt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(rt);function zt(){var e=this;return Pt(this,xt,{}),Tt(this,Rt).forEach((function(t){Tt(e,xt)[t.name]=t.value})),Tt(this,xt)}function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(){return Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ft(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Nt.apply(this,arguments)}function Ft(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gt(e)););return e}function Jt(e,t){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jt(e,t)}function Ht(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Kt(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Qt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Yt(e,t,"get"))}function Xt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Yt(e,t,"set"),n),n}function Yt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Zt=new WeakMap,en=new WeakMap,tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gt(r);if(o){var n=Gt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ht(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Kt($t(t=i.call(this,e)),Zt,{writable:!0,value:void 0}),Kt($t(t),en,{writable:!0,value:void 0}),Xt($t(t),Zt,t._popup.querySelector(".form")),t}return t=a,(n=[{key:"setSubmitDelete",value:function(e){Xt(this,en,e)}},{key:"setEventListeners",value:function(){var e=this;Nt(Gt(a.prototype),"setEventListeners",this).call(this),Qt(this,Zt).addEventListener("submit",(function(t){t.preventDefault(),Qt(e,en).call(e)}))}}])&&Vt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(rt);function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rn,on=new s({url:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"0b4c7e6f-3cd9-4478-b002-67ae938bbef3","Content-Type":"application/json"}}),an=function(e){var t=new N(e,".template",rn,{handleCardClick:function(){un.open(e)},handleDeleteCard:function(e){cn.open(),cn.setSubmitDelete((function(){on.deleteCard(e).then((function(){t.deleteCard(),cn.close()})).catch((function(e){return console.log(e)}))}))},handleAddLike:function(){on.addLike(e).then((function(e){t.setCounter(e),t.addLike()})).catch((function(e){return console.log(e)}))},handleDeleteLike:function(){on.deleteLike(e).then((function(e){t.setCounter(e),t.deleteLike()})).catch((function(e){return console.log(e)}))}});return t.generateCard()},ln=new Be({renderer:function(e){ln.addItem(an(e))}},".place__list");Promise.all([on.getCards(),on.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];rn=i._id,ln.renderItems(o),sn.setUserInfo(i)})).catch((function(e){return console.log(e)}));var cn=new tn(".popup_delete-card");cn.setEventListeners();var un=new bt(".popup_show-card");un.setEventListeners();var sn=new Ke({nameSelector:".profile__user-name",jobSelector:".profile__user-subname",avatarSelector:".profile__avatar"}),fn=new Bt(".popup_edit",{handleSubmitForm:function(e){fn.loading(!0),on.editProfile(e.name,e.job).then((function(e){sn.setUserInfo(e),fn.close()})).catch((function(e){return console.log(e)})).finally((function(){fn.loading(!1)}))}});fn.setEventListeners(),je.addEventListener("click",(function(){fn.open();var e=sn.getUserInfo();Te.value=e.name,Pe.value=e.job,dn.resetValidation()}));var hn=new Bt(".popup_change-avatar",{handleSubmitForm:function(e){hn.loading(!0),on.changeAvatar(e.avatar).then((function(e){sn.setUserInfo(e),hn.close()})).catch((function(e){return console.log(e)})).finally((function(){hn.loading(!1)}))}});hn.setEventListeners(),We.addEventListener("click",(function(){hn.open(),yn.resetValidation()}));var pn=new Bt(".popup_added",{handleSubmitForm:function(e){pn.loading(!0),on.addNewCard(e.name,e.link).then((function(e){ln.addItem(an(e)),pn.close()})).catch((function(e){return console.log(e)})).finally((function(){pn.loading(!1)}))}});pn.setEventListeners(),Ce.addEventListener("click",(function(){pn.open(),vn.resetValidation()}));var dn=new ve(Le,Se),vn=new ve(Le,Ee),yn=new ve(Le,Oe);dn.enableValidation(),vn.enableValidation(),yn.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0MsR0FBa0JtQixJQUN2RDRFLEdBQXNCLElBQUloRyxHQUFjQyxHQUFpQm9CLElBRS9EdUUsR0FBa0JRLG1CQUNsQkQsR0FBaUJDLG1CQUNqQkosR0FBb0JJLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9zZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlcy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAjdXJsO1xyXG4gICNoZWFkZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuI3VybCA9IHVybDtcclxuICAgIHRoaXMuI2hlYWRlciA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAjY2hlY2tSZXMocmVzcG9uc2UpIHtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuI3VybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuI2hlYWRlciB9KS50aGVuKFxyXG4gICAgICB0aGlzLiNjaGVja1Jlc1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuI3VybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuI2hlYWRlciB9KS50aGVuKFxyXG4gICAgICB0aGlzLiNjaGVja1Jlc1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy4jdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcclxuICAgIH0pLnRoZW4odGhpcy4jY2hlY2tSZXMpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuI3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVyLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KSxcclxuICAgIH0pLnRoZW4odGhpcy4jY2hlY2tSZXMpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy4jdXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVyLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuI2NoZWNrUmVzKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuI3VybH0vY2FyZHMvJHtjYXJkLl9pZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVyLFxyXG4gICAgfSkudGhlbih0aGlzLiNjaGVja1Jlcyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKGNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLiN1cmx9L2NhcmRzLyR7Y2FyZC5faWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcixcclxuICAgIH0pLnRoZW4odGhpcy4jY2hlY2tSZXMpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuI3VybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVyLFxyXG4gICAgfSkudGhlbih0aGlzLiNjaGVja1Jlcyk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICNuYW1lO1xyXG4gICNsaW5rO1xyXG4gICN0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICNlbGVtZW50O1xyXG4gICNoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgI2hhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgI2hhbmRsZURlbGV0ZUxpa2U7XHJcbiAgI2hhbmRsZUFkZExpa2U7XHJcbiAgI2NhcmRUaXRsZTtcclxuICAjY2FyZEltYWdlO1xyXG4gICNidXR0b25EZWxldGU7XHJcbiAgI2J1dHRvbkxpa2U7XHJcbiAgI3VzZXJJZDtcclxuICAjb3duZXJJZDtcclxuICAjY2FyZElkO1xyXG4gICNsaWtlQ291bnRlcjtcclxuICAjbGlrZXM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIHVzZXJJZCwgeyBoYW5kbGVDYXJkQ2xpY2sgLGhhbmRsZURlbGV0ZUNhcmQsIGhhbmRsZURlbGV0ZUxpa2UsIGhhbmRsZUFkZExpa2V9KSB7XHJcbiAgICB0aGlzLiNuYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy4jbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuI293bmVySWQgPSBkYXRhLm93bmVyO1xyXG4gICAgdGhpcy4jY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLiNsaWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLiN1c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLiN0ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuI2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuI2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy4jaGFuZGxlRGVsZXRlTGlrZSA9IGhhbmRsZURlbGV0ZUxpa2U7XHJcbiAgICB0aGlzLiNoYW5kbGVBZGRMaWtlID0gaGFuZGxlQWRkTGlrZTtcclxuICB9XHJcblxyXG4gICNnZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy4jdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5pdGVtXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgI2NoZWNrSWQoKSB7XHJcbiAgICBpZiAodGhpcy4jdXNlcklkICE9PSB0aGlzLiNvd25lcklkLl9pZCkge1xyXG4gICAgICB0aGlzLiNidXR0b25EZWxldGUucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAjY2hlY2tMaWtlKCkge1xyXG4gICAgdGhpcy4jbGlrZXMuZm9yRWFjaCgodXNlcikgPT4ge1xyXG4gICAgICBpZih1c2VyLl9pZCA9PT0gdGhpcy4jdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5hZGRMaWtlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kZWxldGVMaWtlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZSgpIHtcclxuICAgIHRoaXMuI2J1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZChcInBsYWNlX19idXR0b24tbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKCkge1xyXG4gICAgdGhpcy4jYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2VfX2J1dHRvbi1saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHNldENvdW50ZXIoY291bnRlcikge1xyXG4gICAgdGhpcy4jbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSBjb3VudGVyLmxpa2VzLmxlbmd0aFxyXG4gIH1cclxuXHJcbiAgI29wZW5DYXJkKCkge1xyXG4gICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy4jbmFtZSwgbGluazogdGhpcy4jbGluayB9KTtcclxuICB9XHJcblxyXG4gICNzZXRMaWtlcygpIHtcclxuICAgIGlmICh0aGlzLiNidXR0b25MaWtlLmNsYXNzTGlzdC5jb250YWlucyhcInBsYWNlX19idXR0b24tbGlrZV9hY3RpdmVcIikpIHtcclxuICAgICAgdGhpcy4jaGFuZGxlRGVsZXRlTGlrZSgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiNoYW5kbGVBZGRMaWtlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuI2J1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLiNoYW5kbGVEZWxldGVDYXJkKHRoaXMuI2NhcmRJZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiNidXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuI3NldExpa2VzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiNjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy4jb3BlbkNhcmQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuI2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLiNlbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuI2VsZW1lbnQgPSB0aGlzLiNnZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuI2NhcmRUaXRsZSA9IHRoaXMuI2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdGl0bGVcIik7XHJcbiAgICB0aGlzLiNjYXJkSW1hZ2UgPSB0aGlzLiNlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy4jYnV0dG9uTGlrZSA9IHRoaXMuI2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fYnV0dG9uLWxpa2VcIik7XHJcbiAgICB0aGlzLiNidXR0b25EZWxldGUgPSB0aGlzLiNlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2J1dHRvbi1kZWxldGVcIik7XHJcbiAgICB0aGlzLiNsaWtlQ291bnRlciA9IHRoaXMuI2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fY291bnRlclwiKVxyXG4gICAgdGhpcy4jY2FyZEltYWdlLnNyYyA9IHRoaXMuI2xpbms7XHJcbiAgICB0aGlzLiNjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLiNuYW1lO1xyXG4gICAgdGhpcy4jY2FyZEltYWdlLmFsdCA9IGDQpNC+0YLQvtCz0YDQsNGE0LjRjyAke3RoaXMuI25hbWV9YDtcclxuICAgIHRoaXMuI2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy4jbGlrZXMubGVuZ3RoO1xyXG5cclxuICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLiNjaGVja0lkKCk7XHJcbiAgICB0aGlzLiNjaGVja0xpa2UodGhpcy4jbGlrZXMpO1xyXG4gICAgXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuI2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICN2YWxpZGF0aW9uQ29uZmlnO1xyXG4gICNmb3JtRWxlbWVudDtcclxuICAjaW5wdXRMaXN0O1xyXG4gICNidXR0b247XHJcblxyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLiN2YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIHRoaXMuI2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLiNpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuI3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLiNidXR0b24gPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLiN2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgI3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICAjaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgI3RvZ2dsZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLiNzaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiNoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgI2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLiNpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAjZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuI2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuI3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLiNidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgI2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuI2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuI3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLiNidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gICN0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLiNoYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLiNkaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiNlbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuI2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy4jdG9nZ2xlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLiNoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgY29uc3QgcG9wdXBFbGVtZW50RWRpdCA9IFwiLnBvcHVwX2VkaXRcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudEFkZGVkID0gXCIucG9wdXBfYWRkZWRcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudFNob3cgPSBcIi5wb3B1cF9zaG93LWNhcmRcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudENoYW5nZSA9ICcucG9wdXBfY2hhbmdlLWF2YXRhcic7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVsZW1lbnREZWxldGUgPSAnLnBvcHVwX2RlbGV0ZS1jYXJkJztcclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50RWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRBZGRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9hZGRlZFwiKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1DaGFuZ2VBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fY2hhbmdlLWF2YXRhclwiKVxyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25fdHlwZV9lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uX3R5cGVfYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2N1cnNvclwiKVxyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF9lbF9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X2VsX2pvYlwiKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJOYW1lID0gXCIucHJvZmlsZV9fdXNlci1uYW1lXCI7XHJcbmV4cG9ydCBjb25zdCB1c2VySm9iID0gXCIucHJvZmlsZV9fdXNlci1zdWJuYW1lXCI7XHJcbmV4cG9ydCBjb25zdCB1c2VyQXZhdGFyID0gXCIucHJvZmlsZV9fYXZhdGFyXCI7XHJcbmV4cG9ydCBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF9lbF90aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBob3RvSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X2VsX3Bob3RvXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpc3RTZWxlY3RvciA9IFwiLnBsYWNlX19saXN0XCI7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b24tc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b24tc3VibWl0X2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICNjb250YWluZXI7XHJcbiAgI3JlbmRlcmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLiNyZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy4jY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuI2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy4jcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICN1c2VyTmFtZTtcclxuICAjdXNlckpvYjtcclxuICAjcHJvZmlsZUluZm9ybWF0aW9uO1xyXG4gICN1c2VyQXZhdGFyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuI3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy4jdXNlckpvYiA9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLiN1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3RvcilcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy4jcHJvZmlsZUluZm9ybWF0aW9uID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLiN1c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLiN1c2VySm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLiNwcm9maWxlSW5mb3JtYXRpb247XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhmb3JtRGF0YSkge1xyXG4gICAgdGhpcy4jdXNlck5hbWUudGV4dENvbnRlbnQgPSBmb3JtRGF0YS5uYW1lO1xyXG4gICAgdGhpcy4jdXNlckpvYi50ZXh0Q29udGVudCA9IGZvcm1EYXRhLmFib3V0O1xyXG4gICAgdGhpcy4jdXNlckF2YXRhci5zcmMgPSBmb3JtRGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAjYnV0dG9uQ2xvc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuI2J1dHRvbkNsb3NlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbiAgfVxyXG5cclxuICAjaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAjaGFuZGxlT3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy4jaGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy4jaGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLiNidXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jaGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZXMgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgI3RpdGxlO1xyXG4gICNwaG90bztcclxuXHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLiN0aXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1YnRpdGxlXCIpO1xyXG4gICAgdGhpcy4jcGhvdG8gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy4jdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLiNwaG90by5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLiNwaG90by5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAjaGFuZGxlU3VibWl0Rm9ybTtcclxuICAjcG9wdXBGb3JtO1xyXG4gICNpbnB1dExpc3Q7XHJcbiAgI2Zvcm1WYWx1ZXM7XHJcbiAgI2J1dHRvblN1Ym1pdDtcclxuICAjYnRuU3VibWl0VGV4dDtcclxuXHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBoYW5kbGVTdWJtaXRGb3JtIH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy4jaGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLiNwb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLiNidXR0b25TdWJtaXQgPSB0aGlzLiNwb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b24tc3VibWl0XCIpXHJcbiAgICB0aGlzLiNidG5TdWJtaXRUZXh0ID0gdGhpcy4jYnV0dG9uU3VibWl0LnRleHRDb250ZW50O1xyXG4gICAgdGhpcy4jaW5wdXRMaXN0ID0gdGhpcy4jcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICAjZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLiNmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLiNpbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgdGhpcy4jZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7ICAgIFxyXG4gICAgcmV0dXJuIHRoaXMuI2Zvcm1WYWx1ZXM7XHJcbn1cclxuXHJcbiAgbG9hZGluZyhpc0xvYWQsIGxvYWRpbmdUZXh0PSfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpIHtcclxuICAgaWYoaXNMb2FkKSB7XHJcbiAgICB0aGlzLiNidXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICAgfSBlbHNlIHtcclxuICAgIHRoaXMuI2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IHRoaXMuI2J0blN1Ym1pdFRleHQ7XHJcbiAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLiNwb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdGhpcy4jaGFuZGxlU3VibWl0Rm9ybSh0aGlzLiNnZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy4jcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gICNwb3B1cEZvcm07XHJcbiAgI3N1Ym1pdERlbGV0ZTtcclxuXHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy4jcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0RGVsZXRlKGNhbGxCYWNrKSB7XHJcbiAgICB0aGlzLiNzdWJtaXREZWxldGUgPSBjYWxsQmFjaztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLiNwb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdGhpcy4jc3VibWl0RGVsZXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgcG9wdXBFbGVtZW50RWRpdCxcclxuICBwb3B1cEVsZW1lbnRBZGRlZCxcclxuICBwb3B1cEVsZW1lbnRTaG93LFxyXG4gIHBvcHVwRWxlbWVudENoYW5nZSxcclxuICBwb3B1cEVsZW1lbnREZWxldGUsXHJcbiAgZm9ybUVsZW1lbnRBZGRlZCxcclxuICBmb3JtRWxlbWVudEVkaXQsXHJcbiAgZm9ybUNoYW5nZUF2YXRhcixcclxuICBwb3B1cEFkZGVkLFxyXG4gIHBvcHVwRWRpdCxcclxuICBwb3B1cENoYW5nZSxcclxuICBjYXJkTGlzdFNlbGVjdG9yLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIHVzZXJOYW1lLFxyXG4gIHVzZXJKb2IsXHJcbiAgdXNlckF2YXRhcixcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZXMgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VzLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTU1XCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIwYjRjN2U2Zi0zY2Q5LTQ0NzgtYjAwMi02N2FlOTM4YmJlZjNcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCBcIi50ZW1wbGF0ZVwiLCB1c2VySWQsIHtcclxuICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhJbWFnZXMub3BlbihkYXRhKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aENvbmZpcm0ub3BlbigpO1xyXG4gICAgICBwb3B1cFdpdGhDb25maXJtLnNldFN1Ym1pdERlbGV0ZSgoKSA9PiB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICBwb3B1cFdpdGhDb25maXJtLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVBZGRMaWtlOiAoKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5hZGRMaWtlKGRhdGEpXHJcbiAgICAgICAgLnRoZW4oKGNvdW50ZXIpID0+IHtcclxuICAgICAgICAgIGNhcmQuc2V0Q291bnRlcihjb3VudGVyKTtcclxuICAgICAgICAgIGNhcmQuYWRkTGlrZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZURlbGV0ZUxpa2U6ICgpID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmRlbGV0ZUxpa2UoZGF0YSlcclxuICAgICAgICAudGhlbigoY291bnRlcikgPT4ge1xyXG4gICAgICAgICAgY2FyZC5zZXRDb3VudGVyKGNvdW50ZXIpO1xyXG4gICAgICAgICAgY2FyZC5kZWxldGVMaWtlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjYXJkTGlzdFNlbGVjdG9yXHJcbik7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcclxuICAudGhlbigoW2NhcmRzLCB1c2VySW5mb10pID0+IHtcclxuICAgIHVzZXJJZCA9IHVzZXJJbmZvLl9pZDtcclxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzKTtcclxuICAgIHVzZXJJbmZvcm1hdGlvbi5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihwb3B1cEVsZW1lbnREZWxldGUpO1xyXG5wb3B1cFdpdGhDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZXMgPSBuZXcgUG9wdXBXaXRoSW1hZ2VzKHBvcHVwRWxlbWVudFNob3cpO1xyXG5wb3B1cFdpdGhJbWFnZXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvcm1hdGlvbiA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiB1c2VyTmFtZSxcclxuICBqb2JTZWxlY3RvcjogdXNlckpvYixcclxuICBhdmF0YXJTZWxlY3RvcjogdXNlckF2YXRhcixcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFbGVtZW50RWRpdCwge1xyXG4gIGhhbmRsZVN1Ym1pdEZvcm06IChkYXRhKSA9PiB7XHJcbiAgICBwb3B1cEZvcm1FZGl0LmxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGlcclxuICAgICAgLmVkaXRQcm9maWxlKGRhdGEubmFtZSwgZGF0YS5qb2IpXHJcbiAgICAgIC50aGVuKChmb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvcm1hdGlvbi5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XHJcbiAgICAgICAgcG9wdXBGb3JtRWRpdC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwRm9ybUVkaXQubG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5wb3B1cEZvcm1FZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBzZXRQb3B1cEVkaXQgPSAoKSA9PiB7XHJcbiAgcG9wdXBGb3JtRWRpdC5vcGVuKCk7XHJcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mb3JtYXRpb24uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlSW5mby5uYW1lO1xyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZUluZm8uam9iO1xyXG4gIGZvcm1FZGl0VmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59O1xyXG5cclxucG9wdXBFZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZXRQb3B1cEVkaXQpO1xyXG5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVsZW1lbnRDaGFuZ2UsIHtcclxuICBoYW5kbGVTdWJtaXRGb3JtOiAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBdmF0YXIubG9hZGluZyh0cnVlKTtcclxuICAgIGFwaVxyXG4gICAgICAuY2hhbmdlQXZhdGFyKGRhdGEuYXZhdGFyKVxyXG4gICAgICAudGhlbigoZm9ybURhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mb3JtYXRpb24uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBBdmF0YXIubG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHNldFBvcHVwQ2hhbmdlQXZhdGFyID0gKCkgPT4ge1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxuICBmb3JtQXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59O1xyXG5cclxucG9wdXBDaGFuZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNldFBvcHVwQ2hhbmdlQXZhdGFyKTtcclxuXHJcbmNvbnN0IHBvcHVwRm9ybUFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWxlbWVudEFkZGVkLCB7XHJcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGRhdGEpID0+IHtcclxuICAgIHBvcHVwRm9ybUFkZC5sb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5hZGROZXdDYXJkKGRhdGEubmFtZSwgZGF0YS5saW5rKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhKSk7XHJcbiAgICAgICAgcG9wdXBGb3JtQWRkLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBGb3JtQWRkLmxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxucG9wdXBGb3JtQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBzZXRQb3B1cEFkZCA9ICgpID0+IHtcclxuICBwb3B1cEZvcm1BZGQub3BlbigpO1xyXG4gIGZvcm1BZGRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn07XHJcblxyXG5wb3B1cEFkZGVkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZXRQb3B1cEFkZCk7XHJcblxyXG5jb25zdCBmb3JtRWRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50RWRpdCk7XHJcbmNvbnN0IGZvcm1BZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudEFkZGVkKTtcclxuY29uc3QgZm9ybUF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsZm9ybUNoYW5nZUF2YXRhcik7XHJcblxyXG5mb3JtRWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BZGRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuIl0sIm5hbWVzIjpbIkFwaSIsInVybCIsImhlYWRlcnMiLCJ0aGlzIiwiZmV0Y2giLCJ0aGVuIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJsaW5rIiwiY2FyZCIsIl9pZCIsImlkIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwicmVzIiwic3RhdHVzIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZUxpa2UiLCJoYW5kbGVBZGRMaWtlIiwib3duZXIiLCJsaWtlcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInF1ZXJ5U2VsZWN0b3IiLCJzcmMiLCJhbHQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJmb3JFYWNoIiwidXNlciIsImFkZExpa2UiLCJkZWxldGVMaWtlIiwiY29udGFpbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImZvcm1FbGVtZW50RWRpdCIsImZvcm1FbGVtZW50QWRkZWQiLCJmb3JtQ2hhbmdlQXZhdGFyIiwicG9wdXBFZGl0IiwicG9wdXBBZGRlZCIsInBvcHVwQ2hhbmdlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJmb3JtU2VsZWN0b3IiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbXMiLCJpdGVtIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiam9iIiwiZm9ybURhdGEiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJfcG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2VzIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJpc0xvYWQiLCJsb2FkaW5nVGV4dCIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJpbnB1dCIsInZhbHVlIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiY2FsbEJhY2siLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsInBvcHVwV2l0aEltYWdlcyIsIm9wZW4iLCJjYXJkSWQiLCJwb3B1cFdpdGhDb25maXJtIiwic2V0U3VibWl0RGVsZXRlIiwiZGVsZXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNldENvdW50ZXIiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJhbGwiLCJnZXRDYXJkcyIsImdldFVzZXJJbmZvIiwiY2FyZHMiLCJ1c2VySW5mbyIsInJlbmRlckl0ZW1zIiwidXNlckluZm9ybWF0aW9uIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRm9ybUVkaXQiLCJsb2FkaW5nIiwiZWRpdFByb2ZpbGUiLCJmaW5hbGx5IiwicHJvZmlsZUluZm8iLCJmb3JtRWRpdFZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwQXZhdGFyIiwiY2hhbmdlQXZhdGFyIiwiZm9ybUF2YXRhclZhbGlkYXRvciIsInBvcHVwRm9ybUFkZCIsImFkZE5ld0NhcmQiLCJmb3JtQWRkVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=